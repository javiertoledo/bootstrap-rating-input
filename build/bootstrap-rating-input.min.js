!function(a){a.fn.rating=function(){function c(b,c){var d=a(b).find("[data-value="+c+"]");d.removeClass("glyphicon-star-empty").addClass("glyphicon-star"),d.prevAll("[data-value]").removeClass("glyphicon-star-empty").addClass("glyphicon-star"),d.nextAll("[data-value]").removeClass("glyphicon-star").addClass("glyphicon-star-empty")}function d(b){var c=a(b);c.find("[data-value]").removeClass("glyphicon-star").addClass("glyphicon-star-empty"),c.find(".rating-clear").hide(),c.find("input").val("").trigger("change")}var b;for(b=this.length-1;b>=0;b--){var e,f,h=a(this[b]),i=h.data("max")||5,j=h.data("min")||0,k=h.data("clearable")||null,l="";for(f=j;i>=f;f++)l+=['<span class="glyphicon glyphicon-star-empty" data-value="',f,'"></span>'].join("");k&&(l+=[' <a class="rating-clear" style="display:none;" href="javascript:void">','<span class="glyphicon glyphicon-remove"></span> ',k,"</a>"].join("")),e=['<div class="rating-input">',l,'<input type="hidden" name="',h.attr("name"),'" value="',h.val(),'" id="',h.attr("id"),'" data-min="',j,'" data-max="',i,'" />',"</div>"].join(""),h.replaceWith(e)}a(".rating-input").on("mouseenter","[data-value]",function(){var b=a(this);c(b.closest(".rating-input"),b.data("value"))}).on("mouseleave","[data-value]",function(){var b=a(this),e=b.siblings("input").val(),f=b.siblings("input").attr("data-min");e>=f&&i>=e?c(b.closest(".rating-input"),e):d(b.closest(".rating-input"))}).on("click","[data-value]",function(b){var c=a(this),d=c.data("value");c.siblings("input").val(d).trigger("change"),c.siblings(".rating-clear").show(),b.preventDefault()}).on("click",".rating-clear",function(b){d(a(this).closest(".rating-input")),b.preventDefault()}).each(function(){var b=a(this).find("input").val();b&&(c(this,b),a(this).find(".rating-clear").show())})},a(function(){a("input.rating[type=number]").length>0&&a("input.rating[type=number]").rating()})}(jQuery);